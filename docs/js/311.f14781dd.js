"use strict";(self["webpackChunksi_projeto2"]=self["webpackChunksi_projeto2"]||[]).push([[311],{3311:(t,o,e)=>{e.r(o),e.d(o,{default:()=>F});var i=e(3673),n=e(2323);function s(t,o,e,s,r,d){const h=(0,i.up)("car"),c=(0,i.up)("food"),a=(0,i.up)("q-card"),l=(0,i.up)("q-resize-observer"),m=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(m,{class:(0,n.C_)(t.$q.screen.gt.xs?"flex flex-center":"column q-pa-md")},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{flat:"",bordered:"",class:(0,n.C_)(["screen q-pa-md",t.$q.screen.gt.xs?"rect":"col"]),ref:"screen"},{default:(0,i.w5)((()=>[(0,i._)("span",{class:"text-black text-bold text-h5 counter",ref:"foodCounter"}," Comida: "+(0,n.zw)(r.foodCounter),513),(0,i.Wm)(h,{screenWidth:d.width,screenHeight:d.height,foodCoordinates:r.foodCoordinates,onAteFood:d.nextFood},null,8,["screenWidth","screenHeight","foodCoordinates","onAteFood"]),r.showFood?((0,i.wg)(),(0,i.j4)(c,{key:0,screenWidth:d.width,screenHeight:d.height,onFoodCoordinates:o[0]||(o[0]=t=>r.foodCoordinates=t)},null,8,["screenWidth","screenHeight"])):(0,i.kq)("",!0)])),_:1},8,["class"]),(0,i.Wm)(l,{onResize:d.onResize},null,8,["onResize"])])),_:1},8,["class"])}var r=e(8880);function d(t,o,e,s,d,h){const c=(0,i.up)("q-icon");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{ref:"food",name:`las la-${d.foodIcon}`,color:"orange-9",size:"32px",style:(0,n.j5)(h.stylePosition)},null,8,["name","style"])],512)),[[r.F8,d.xCoord&&d.yCoord]])}const h={name:"Food",props:["screenWidth","screenHeight"],data(){return{xCoord:0,yCoord:0,foodOptions:["pizza-slice","hamburger","cheese","cookie","lemon","carrot","hotdog","apple-alt"],foodIcon:""}},mounted(){this.foodIcon=this.generateRandomFood(),setTimeout((()=>{this.generateCoordinate()}),300)},computed:{stylePosition(){return`left: ${this.xCoord}px; top: ${this.yCoord}px; z-index: 99`}},methods:{generateRandomFood(){const t=this.randomIntFromInterval(0,7);return this.foodOptions[t]},generateCoordinate(){this.xCoord=this.randomIntFromInterval(2,this.screenWidth-49),this.yCoord=this.randomIntFromInterval(1,this.screenHeight-100),this.emitCoordinates()},emitCoordinates(){setTimeout((()=>{const t=this.$refs.food.$el.getBoundingClientRect().x,o=this.$refs.food.$el.getBoundingClientRect().y;this.$emit("foodCoordinates",{x:t,y:o})}),100)},randomIntFromInterval(t,o){return Math.floor(Math.random()*(o-t+1)+t)}}};var c=e(4260),a=e(4554),l=e(7518),m=e.n(l);const u=(0,c.Z)(h,[["render",d]]),C=u;function f(t,o,e,s,d,h){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",{ref:"car",class:(0,n.C_)(["car",d.rotationClass+" "+d.directionClass]),style:(0,n.j5)(h.stylePosition)},null,6)],512)),[[r.F8,d.xCoord&&d.yCoord]])}m()(h,"components",{QIcon:a.Z});const v={name:"Car",props:["screenWidth","screenHeight","foodCoordinates"],data(){return{xCoord:0,yCoord:0,stepSize:1,moveMilliseconds:8,rotateMilliseconds:200,startMoviment:!1,rotationClass:"rotate0",directionClass:"directionUp"}},computed:{stylePosition(){return`position: relative; left: ${this.xCoord}px; top: ${this.yCoord}px; z-index: 100`},direction(){return{down:"directionDown"===this.directionClass,up:"directionUp"===this.directionClass,right:"directionRight"===this.directionClass,left:"directionLeft"===this.directionClass}}},watch:{foodCoordinates:{deep:!0,handler(t){this.startMoviment=!!t}},startMoviment(){this.startMoviment&&setTimeout((()=>{this.controlYMoviment()}),200)}},mounted(){setTimeout((()=>{this.positionOnCenter()}),100)},methods:{carPositionOnScreen(){const t=this.$refs.car.getBoundingClientRect().x,o=this.$refs.car.getBoundingClientRect().y;return{x:t,y:o}},positionOnCenter(){this.xCoord=(this.screenWidth-42)/2,this.yCoord=(this.screenHeight-132)/2},rotateAndMove(t,o,e){this.rotationClass=t,setTimeout((()=>{this.rotationClass="",this.directionClass=o,e()}),this.rotateMilliseconds)},controlYMoviment(){const t=this.carPositionOnScreen(),o=()=>this.moveY(this.moveDown),e=()=>this.moveY(this.moveUp);t.y<this.foodCoordinates.y?this.direction.down?this.moveY(this.moveDown):this.direction.right?this.rotateAndMove("rotate90","directionDown",o):this.direction.left?this.rotateAndMove("rotateMinus90","directionDown",o):this.direction.up&&this.rotateAndMove("rotate180","directionDown",o):t.y>this.foodCoordinates.y?this.direction.up?this.moveY(this.moveUp):this.direction.left?this.rotateAndMove("rotate90","directionUp",e):this.direction.right?this.rotateAndMove("rotateMinus90","directionUp",e):this.direction.down&&this.rotateAndMove("rotate180","directionUp",e):this.controlXMoviment()},moveY(t){setTimeout((()=>{t();const o=this.carPositionOnScreen();o.y===this.foodCoordinates.y?this.controlXMoviment():this.controlYMoviment()}),this.moveMilliseconds)},controlXMoviment(){const t=this.carPositionOnScreen(),o=()=>this.moveX(this.moveLeft),e=()=>this.moveX(this.moveRight);t.x<this.foodCoordinates.x?this.direction.right?this.moveX(this.moveRight):this.direction.up?this.rotateAndMove("rotate90","directionRight",e):this.direction.down?this.rotateAndMove("rotateMinus90","directionRight",e):this.direction.left&&this.rotateAndMove("rotate180","directionRight",e):t.x>this.foodCoordinates.x&&(this.direction.left?this.moveX(this.moveLeft):this.direction.down?this.rotateAndMove("rotate90","directionLeft",o):this.direction.up?this.rotateAndMove("rotateMinus90","directionLeft",o):this.direction.right&&this.rotateAndMove("rotate180","directionLeft",o))},moveX(t){setTimeout((()=>{t();const o=this.carPositionOnScreen();Math.abs(o.x-this.foodCoordinates.x)<=1?this.$emit("ateFood"):this.controlXMoviment()}),this.moveMilliseconds)},moveUp(){this.yCoord-=this.stepSize},moveDown(){this.yCoord+=this.stepSize},moveRight(){this.xCoord+=this.stepSize},moveLeft(){this.xCoord-=this.stepSize}}},g=(0,c.Z)(v,[["render",f]]),p=g,x={name:"PageIndex",components:{food:C,car:p},data(){return{foodCounter:0,foodCoordinates:null,showFood:!0,boundingClientRect:null}},computed:{width(){return this.boundingClientRect&&this.boundingClientRect.width||0},height(){return this.boundingClientRect&&this.boundingClientRect.height||0}},mounted(){this.boundingClientRect=this.$refs.screen.$el.getBoundingClientRect()},methods:{onResize(t){this.boundingClientRect=this.$refs.screen.$el.getBoundingClientRect()},cleanFood(){this.showFood=!1,this.foodCoordinates=null},addToCounter(){this.foodCounter+=1},createNewFood(){setInterval((()=>{this.showFood=!0}),100)},nextFood(){this.addToCounter(),this.cleanFood(),this.createNewFood()}}};var M=e(4379),w=e(1543),y=e(5151);const R=(0,c.Z)(x,[["render",s]]),F=R;m()(x,"components",{QPage:M.Z,QCard:w.Z,QResizeObserver:y.Z})}}]);